<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>The Committee of Patriots — Convened via the COMPANION Protocol</title>
  <meta name="description" content="Four founding minds summoned across time to address the capture of the republic. Washington. Hamilton. Jefferson. Franklin. Own them. Vote them. Govern.">
  <link rel="stylesheet" href="css/companion.css">
  <link rel="preconnect" href="https://fonts.googleapis.com">
  <link href="https://fonts.googleapis.com/css2?family=IM+Fell+English:ital@0;1&family=IM+Fell+DW+Pica:ital@0;1&family=IM+Fell+Great+Primer:ital@0;1&display=swap" rel="stylesheet">
</head>
<body>

  <!-- ═══ SCREEN 1: THE THRESHOLD ═══ -->
  <div id="void-screen" class="screen active">
    <div class="void-bg"></div>
    <div class="ember-field" id="ember-field"></div>
    <div class="void-content">
      <div class="ornament-head">&#10087; &#9753;</div>
      <h1 class="void-title">THE COMMITTEE<br><span class="void-title-of">of</span><br>PATRIOTS</h1>
      <div class="ornament-line-void"><span>&#10022;</span></div>
      <p class="void-subtitle">Convened via the COMPANION Protocol</p>
      <p class="void-roster">Gen. <em>Washington</em> &middot; Col. <em>Hamilton</em> &middot; Mr. <em>Jefferson</em> &middot; Dr. <em>Franklin</em></p>
      <div class="void-quote">
        <p>&ldquo;The Republic was not built to be owned by the Few.&rdquo;</p>
      </div>
      <button id="enter-btn" class="colonial-btn">Cross the Threshold</button>
      <p class="void-footer">December 1775 &middot; 2025</p>
    </div>
  </div>

  <!-- ═══ SCREEN 2: THE BINDING ═══ -->
  <div id="config-screen" class="screen">
    <div class="binding-parchment">
      <div class="ornament-head">&#10087; &#9753;</div>
      <h2 class="binding-title">The Binding</h2>
      <div class="ornament-line-binding"><span>&#10022;</span></div>
      <p class="binding-preamble"><span class="drop-cap">T</span>o summon minds across the boundary of time, you must provide a Key. Your keys are stored only within your own machine. They are transmitted solely to their respective services &mdash; Anthropic for the intellect, ElevenLabs for the voice.</p>
      <div class="binding-form">
        <label for="api-key-input" class="binding-label">&#9758; Anthropic API Key</label>
        <input type="password" id="api-key-input" class="binding-input" placeholder="sk-ant-api03-..." autocomplete="off">

        <div class="binding-row">
          <label for="model-select" class="binding-label">&#9758; Vessel Depth</label>
          <select id="model-select" class="binding-select">
            <option value="claude-sonnet-4-20250514">Sonnet &mdash; Swift Counsel</option>
            <option value="claude-opus-4-20250514">Opus &mdash; Deep Deliberation</option>
          </select>
        </div>

        <div class="binding-row">
          <label for="elevenlabs-key-input" class="binding-label">&#9758; ElevenLabs API Key <span class="binding-optional">(optional &mdash; for voice)</span></label>
          <input type="password" id="elevenlabs-key-input" class="binding-input" placeholder="xi-..." autocomplete="off">
        </div>

        <button id="save-key-btn" class="colonial-btn">Seal the Binding</button>
      </div>
      <p class="binding-note">You may alter these instruments at any time from within the Chamber.</p>
      <div class="ornament-foot">&#9830; &#9674; &#9830;</div>
    </div>
  </div>

  <!-- ═══ SCREEN 3: THE CHAMBER ═══ -->
  <div id="chamber-screen" class="screen">

    <!-- Portrait Stage -->
    <div id="portrait-stage">
      <!-- Four patriot portraits inserted by hologram.js on init -->
    </div>

    <!-- Committee Bar -->
    <div id="committee-bar">
      <div id="persona-badges"></div>
      <div id="chamber-controls">
        <button id="voice-toggle" class="control-btn" title="Toggle Voice">
          <span class="control-icon">&#9835;</span>
          <span class="control-label">Voice</span>
        </button>
        <button id="settings-toggle" class="control-btn" title="Settings">
          <span class="control-icon">&#9881;</span>
          <span class="control-label">Settings</span>
        </button>
      </div>
    </div>

    <!-- Settings Panel -->
    <div id="settings-panel" class="hidden">
      <div class="settings-inner">
        <h3 class="settings-title">Chamber Settings</h3>
        <div class="setting-row">
          <label for="settings-model" class="binding-label">Model</label>
          <select id="settings-model" class="binding-select">
            <option value="claude-sonnet-4-20250514">Sonnet &mdash; Swift Counsel</option>
            <option value="claude-opus-4-20250514">Opus &mdash; Deep Deliberation</option>
          </select>
        </div>
        <div class="setting-row">
          <label for="settings-voice-rate" class="binding-label">Voice Speed</label>
          <input type="range" id="settings-voice-rate" min="0.5" max="1.5" step="0.1" value="0.9" class="settings-range">
        </div>
        <div class="setting-row setting-row-btns">
          <button id="change-key-btn" class="control-btn">Change API Keys</button>
          <button id="release-all-btn" class="control-btn control-btn-danger">Dismiss the Committee</button>
        </div>
        <button id="close-settings" class="control-btn">Close</button>
      </div>
    </div>

    <!-- Dialogue Area -->
    <div id="dialogue-container">
      <div id="dialogue-scroll">
        <div id="dialogue-messages"></div>
      </div>
    </div>

    <!-- Input Area -->
    <div id="input-area">
      <div id="input-wrapper">
        <textarea id="user-input" placeholder="Address the Committee..." rows="1"></textarea>
        <button id="send-btn" title="Send">
          <span>&#10148;</span>
        </button>
      </div>
      <div id="input-hint">
        <span class="hint-text">Say <code>Using this matter, summon Washington.</code> to convene.</span>
      </div>
    </div>

  </div>

  <!-- COMPANION V3 Scripts -->
  <script src="js/protocol.js"></script>
  <script src="js/api.js"></script>
  <script src="js/hologram.js"></script>
  <script src="js/voice.js"></script>
  <script src="js/ui.js"></script>
  <script src="js/main.js"></script>

</body>
</html>
